<% const headerData = { brandText: locals.brandText || 'ÎßàÎ≤ïÏó∞Íµ¨Ìöå', brandHref:
locals.brandHref || '/', userName: locals.userName || 'User', userRole:
locals.userRole || 'ÏÇ¨Ïö©Ïûê', notificationCount: locals.notificationCount || 0,
...locals }; %>

<link rel="stylesheet" href="/partials/header.css" />

<header class="main-header">
    <div class="header-container">
        <div class="header-brand">
            <a href="<%= headerData.brandHref %>" class="brand-link">
                <span class="brand-icon">üîÆ</span>
                <span class="brand-text"><%= headerData.brandText %></span>
            </a>
        </div>

        <nav class="header-nav">
            <!-- Desktop Navigation -->
            <ul class="nav-list desktop-nav">
                <li class="nav-item">
                    <a href="/novel" class="nav-link">
                        <span class="material-symbols-outlined"
                            >library_books</span
                        >
                        <span>ÏïÑÏπ¥Ïù¥Î∏å</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/community" class="nav-link">
                        <span class="material-symbols-outlined">groups</span>
                        <span>Ïª§ÎÆ§ÎãàÌã∞</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/emojis" class="nav-link">
                        <span class="material-symbols-outlined">Glyphs</span>
                        <span>ÎßàÏó∞ÌöåÏΩò</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/research" class="nav-link">
                        <span class="material-symbols-outlined">science</span>
                        <span>ÎßàÎ≤ïÏó∞Íµ¨ÏÜå</span>
                    </a>
                </li>

            </ul>

            <!-- Mobile Navigation -->
            <div class="mobile-nav dropdown">
                <button class="nav-toggle dropdown-toggle" id="mobileNavToggle">
                    <span class="material-symbols-outlined">apps</span>
                    <span>ÏÑúÎπÑÏä§</span>
                    <span class="material-symbols-outlined dropdown-arrow"
                        >expand_more</span
                    >
                </button>
                <ul class="dropdown-menu mobile-nav-menu" id="mobileNavMenu">
                    <li>
                        <a href="/novel" class="dropdown-link">
                            <span class="material-symbols-outlined"
                                >library_books</span
                            >
                            <span>ÏïÑÏπ¥Ïù¥Î∏å</span>
                        </a>
                    </li>
                    <li>
                        <a href="/community" class="dropdown-link">
                            <span class="material-symbols-outlined"
                                >groups</span
                            >
                            <span>Ïª§ÎÆ§ÎãàÌã∞</span>
                        </a>
                    </li>
                    <li>
                        <a href="/emojis" class="dropdown-link">
                            <span class="material-symbols-outlined"
                                >Glyphs</span
                            >
                            <span>ÎßàÏó∞ÌöåÏΩò</span>
                        </a>
                    </li>
                    <li>
                        <a href="/research" class="dropdown-link">
                            <span class="material-symbols-outlined"
                                >science</span
                            >
                            <span>ÎßàÎ≤ïÏó∞Íµ¨ÏÜå</span>
                        </a>
                    </li>

                </ul>
            </div>
        </nav>

        <div class="header-actions">
            <button class="action-btn notification-btn" id="notificationBtn">
                <span class="material-symbols-outlined">notifications</span>
                <% if (headerData.notificationCount > 0) { %>
                <span class="notification-badge"
                    ><%= headerData.notificationCount %></span
                >
                <% } %>
            </button>

            <div class="user-menu dropdown">
                <button
                    class="user-menu-toggle dropdown-toggle"
                    id="userMenuToggle"
                >
                    <div class="user-avatar">
                        <span class="material-symbols-outlined">person</span>
                    </div>
                    <div class="header-user-info">
                        <span class="user-name"
                            ><%= headerData.userName %></span
                        >
                        <span class="user-role"
                            ><%= headerData.userRole %></span
                        >
                    </div>
                    <span class="material-symbols-outlined dropdown-arrow"
                        >expand_more</span
                    >
                </button>
                <ul class="dropdown-menu user-dropdown" id="userMenu">
                    <li>
                        <a href="/mypage" class="dropdown-link">
                            <span class="material-symbols-outlined"
                                >person</span
                            >
                            <span>ÎßàÏù¥ÌéòÏù¥ÏßÄ</span>
                        </a>
                    </li>
                                        <li>
                        <a href="/settings" class="dropdown-link">
                            <span class="material-symbols-outlined"
                                >settings</span
                            >
                            <span>ÏÑ§Ï†ï</span>
                        </a>
                    </li>
                    <li id="admin-menu-item" style="display: none;">
                        <a href="/admin" class="dropdown-link admin-dropdown-link">
                            <span class="material-symbols-outlined"
                                >admin_panel_settings</span
                            >
                            <span>Í¥ÄÎ¶¨Ïûê Î©îÎâ¥</span>
                        </a>
                    </li>
                    <li>
                        <button
                            class="dropdown-link mobile-theme-toggle"
                            id="mobileThemeToggle"
                        >
                            <span class="material-symbols-outlined"
                                >dark_mode</span
                            >
                            <span>Îã§ÌÅ¨Î™®Îìú</span>
                        </button>
                    </li>
                    <li class="dropdown-divider"></li>
                    <li>
                        <button
                            class="dropdown-link logout-link"
                            id="logoutBtn"
                        >
                            <span class="material-symbols-outlined"
                                >logout</span
                            >
                            <span>Î°úÍ∑∏ÏïÑÏõÉ</span>
                        </button>
                    </li>
                </ul>
            </div>

            <button class="action-btn theme-toggle" id="themeToggle">
                <span class="material-symbols-outlined">dark_mode</span>
            </button>
        </div>
    </div>
</header>


<script src="/partials/header.js"></script>
